<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>壯熊手臂增肌訓練計畫 - Bear Mode Arms</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #0f172a;
            color: #f1f5f9;
            -webkit-tap-highlight-color: transparent;
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .accent-orange {
            color: #fb923c;
        }

        .bg-accent-orange {
            background-color: #fb923c;
        }

        .set-checkbox:checked + label {
            background-color: #fb923c;
            border-color: #fb923c;
            color: #0f172a;
            transform: scale(1.05);
        }

        .progress-bar {
            transition: width 0.3s ease;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .header-shadow {
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.6);
        }
    </style>
</head>
<body class="pb-32">

    <!-- Fixed Header & Progress Section -->
    <div class="sticky top-0 z-40 bg-[#0f172a]/95 backdrop-blur-xl header-shadow border-b border-white/10">
        <!-- Header -->
        <header class="p-6 pt-8 pb-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-black tracking-tighter">壯熊手臂計畫</h1>
                    <p class="text-slate-400 text-xs uppercase tracking-[0.2em] font-bold">Bear Mode Arms</p>
                </div>
                <button onclick="toggleRules()" class="p-3 rounded-full glass-card hover:bg-slate-700 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Fixed Progress Bar -->
        <div class="px-6 pb-6">
            <div class="flex justify-between items-end mb-3">
                <span class="text-sm font-black text-slate-500 uppercase">Current Progress</span>
                <span id="progress-text" class="text-xl font-mono accent-orange font-black">0%</span>
            </div>
            <div class="w-full bg-slate-800/80 h-3 rounded-full overflow-hidden border border-white/5">
                <div id="progress-bar" class="progress-bar bg-accent-orange h-full w-0 shadow-[0_0_15px_rgba(251,146,60,0.6)]"></div>
            </div>
        </div>
    </div>

    <!-- Quick Info Stats -->
    <div class="px-6 mt-8 mb-10 grid grid-cols-2 gap-4">
        <div class="glass-card p-4 rounded-2xl">
            <p class="text-[10px] uppercase text-slate-500 font-black mb-2 tracking-widest">Main Goal</p>
            <p class="text-sm font-extrabold">正面寬度 & 側面厚度</p>
        </div>
        <div class="glass-card p-4 rounded-2xl">
            <p class="text-[10px] uppercase text-slate-500 font-black mb-2 tracking-widest">Equipment</p>
            <p class="text-sm font-extrabold">組合啞鈴 + 可調椅</p>
        </div>
    </div>

    <!-- Workout List -->
    <main id="workout-container" class="px-6 space-y-12">
        <!-- 會由 JS 動態生成 -->
    </main>

    <!-- Sticky Timer & Controls -->
    <div id="timer-bar" class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[94%] max-w-md glass-card rounded-3xl p-5 shadow-2xl hidden z-50 ring-2 ring-white/5">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-4">
                <div id="timer-display" class="text-3xl font-mono font-black accent-orange">00:00</div>
                <div class="flex flex-col">
                    <span class="text-xs font-black text-slate-500 uppercase tracking-wider">Resting</span>
                    <span class="text-xs font-bold text-slate-300">組間休息中...</span>
                </div>
            </div>
            <div class="flex gap-2">
                <button onclick="addTime(15)" class="px-4 py-3 bg-slate-700/60 hover:bg-slate-700 rounded-xl text-xs font-black uppercase transition-all">+15s</button>
                <button onclick="resetTimer()" class="px-6 py-3 bg-accent-orange text-slate-900 rounded-xl text-xs font-black uppercase transition-transform active:scale-95">Skip</button>
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="rules-modal" class="fixed inset-0 bg-black/95 backdrop-blur-xl z-[100] hidden items-center justify-center p-6">
        <div class="glass-card w-full max-w-md rounded-[2.5rem] p-10 max-h-[85vh] overflow-y-auto border border-white/10">
            <div class="flex justify-between items-center mb-10">
                <div>
                    <h2 class="text-3xl font-black text-white">訓練黃金法則</h2>
                    <div class="h-1.5 w-16 bg-accent-orange mt-2 rounded-full"></div>
                </div>
                <button onclick="toggleRules()" class="p-3 text-slate-400 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="space-y-8">
                <div class="space-y-3">
                    <h4 class="text-accent-orange text-sm font-black uppercase tracking-widest">01. 節奏控制</h4>
                    <p class="text-base text-slate-300 leading-relaxed font-medium"><strong>慢下快上 (3-0-1-0)：</strong> 放慢下放速度至 3~4 秒。這比單純加重更能有效刺激肌肉肥大。</p>
                </div>
                <div class="space-y-3">
                    <h4 class="text-accent-orange text-sm font-black uppercase tracking-widest">02. 支點穩定</h4>
                    <p class="text-base text-slate-300 leading-relaxed font-medium"><strong>鎖定手肘：</strong> 手肘應為支點固定，不要前後移動來借力。</p>
                </div>
                <div class="space-y-3">
                    <h4 class="text-accent-orange text-sm font-black uppercase tracking-widest">03. 頂峰收縮</h4>
                    <p class="text-base text-slate-300 leading-relaxed font-medium"><strong>強力擠壓：</strong> 在動作最頂端停頓 1 秒，感受肌肉最極限的收縮感。</p>
                </div>
            </div>
            <button onclick="toggleRules()" class="w-full mt-12 py-5 bg-accent-orange text-slate-900 font-black text-lg rounded-2xl shadow-xl shadow-orange-500/20 active:scale-[0.97] transition-all">收到，準備開練</button>
        </div>
    </div>

    <script>
        const workoutData = [
            {
                phase: "Phase 01: 暖身激活",
                rest: 0,
                exercises: [
                    { name: "輕重量彎舉", weight: "約 5kg", sets: 2, reps: "20", angle: "站姿", tip: "讓關節產生滑液，預防受傷" },
                    { name: "輕重量臂屈伸", weight: "約 5kg", sets: 2, reps: "20", angle: "站姿", tip: "肌肉充血，預熱三頭肌" }
                ]
            },
            {
                phase: "Phase 02: 厚度與寬度堆疊",
                rest: 90,
                exercises: [
                    { name: "坐姿過頭臂屈伸", weight: "接近 22.5kg", sets: 4, reps: "8-10", angle: "90° (坐姿)", tip: "手肘內收，拉開三頭肌長頭" },
                    { name: "坐姿啞鈴錘式彎舉", weight: "接近 22.5kg", sets: 4, reps: "8-10", angle: "90° (坐姿)", tip: "專攻「肱肌」，手臂正面寬度關鍵" }
                ]
            },
            {
                phase: "Phase 03: 線條與飽滿度雕塑",
                rest: 60,
                exercises: [
                    { name: "仰臥啞鈴臂屈伸", weight: "10-15kg", sets: 3, reps: "10-12", angle: "0° (平躺)", tip: "離心慢下 3 秒，感受三頭肌撕裂感" },
                    { name: "上斜啞鈴彎舉", weight: "10-15kg", sets: 3, reps: "12-15", angle: "45°-60°", tip: "手臂下垂身後，打造外側弧度" }
                ]
            },
            {
                phase: "Phase 04: 充血收尾",
                rest: 45,
                exercises: [
                    { name: "啞鈴窄距臥推", weight: "組合重量", sets: 3, reps: "力竭", angle: "0° (平躺)", tip: "兩顆啞鈴緊貼，衝擊整體圍度" }
                ]
            }
        ];

        let totalSets = 0;
        let completedSets = 0;
        let timerInterval = null;
        let timeLeft = 0;

        function init() {
            const container = document.getElementById('workout-container');
            workoutData.forEach((phase, phaseIdx) => {
                const phaseEl = document.createElement('section');
                
                let exercisesHtml = '';
                phase.exercises.forEach((ex, exIdx) => {
                    const exerciseId = `ex-${phaseIdx}-${exIdx}`;
                    let setsHtml = '';
                    for(let i=1; i<=ex.sets; i++) {
                        totalSets++;
                        const setId = `${exerciseId}-s${i}`;
                        setsHtml += `
                            <div class="flex flex-col items-center">
                                <input type="checkbox" id="${setId}" class="hidden set-checkbox" onchange="toggleSet('${setId}', ${phase.rest})">
                                <label for="${setId}" class="w-14 h-14 rounded-2xl border-2 border-slate-700 flex items-center justify-center text-xs font-black transition-all cursor-pointer ring-offset-4 ring-offset-[#0f172a] hover:border-slate-400">
                                    SET ${i}
                                </label>
                            </div>
                        `;
                    }

                    exercisesHtml += `
                        <div class="glass-card rounded-[2rem] p-8 mb-8 border border-white/5">
                            <div class="flex justify-between items-start mb-4">
                                <h3 class="font-black text-2xl leading-tight text-white pr-2">${ex.name}</h3>
                                <span class="bg-blue-500/10 text-blue-400 border border-blue-500/20 px-3 py-1.5 rounded-lg text-xs font-black uppercase whitespace-nowrap">${ex.angle}</span>
                            </div>
                            <div class="flex flex-wrap gap-4 mb-6">
                                <span class="flex items-center gap-2 bg-slate-800/60 px-3 py-2 rounded-xl text-sm font-bold text-slate-300">
                                    <svg class="w-4 h-4 text-accent-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"></path></svg>
                                    ${ex.weight}
                                </span>
                                <span class="flex items-center gap-2 bg-slate-800/60 px-3 py-2 rounded-xl text-sm font-bold text-slate-300">
                                    <svg class="w-4 h-4 text-accent-orange" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                                    ${ex.reps} REPS
                                </span>
                            </div>
                            <div class="bg-white/5 border-l-4 border-accent-orange p-4 mb-8 rounded-r-xl">
                                <p class="text-sm text-slate-200 font-medium leading-relaxed">"${ex.tip}"</p>
                            </div>
                            <div class="flex gap-4 justify-start overflow-x-auto no-scrollbar py-2">
                                ${setsHtml}
                            </div>
                        </div>
                    `;
                });

                phaseEl.innerHTML = `
                    <div class="mb-5 flex items-center gap-4 px-2">
                        <span class="h-1 w-6 bg-accent-orange rounded-full"></span>
                        <h2 class="text-sm font-black text-slate-400 uppercase tracking-[0.2em]">${phase.phase}</h2>
                    </div>
                    ${exercisesHtml}
                `;
                container.appendChild(phaseEl);
            });
        }

        function toggleSet(id, restTime) {
            const cb = document.getElementById(id);
            if (cb.checked) {
                completedSets++;
                if (restTime > 0) startTimer(restTime);
            } else {
                completedSets--;
            }
            updateProgress();
        }

        function updateProgress() {
            const percent = Math.round((completedSets / totalSets) * 100);
            document.getElementById('progress-bar').style.width = `${percent}%`;
            document.getElementById('progress-text').innerText = `${percent}%`;
        }

        function startTimer(seconds) {
            clearInterval(timerInterval);
            timeLeft = seconds;
            document.getElementById('timer-bar').classList.remove('hidden');
            
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    resetTimer();
                    if (navigator.vibrate) navigator.vibrate([200, 100, 200]);
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
            const s = (timeLeft % 60).toString().padStart(2, '0');
            document.getElementById('timer-display').innerText = `${m}:${s}`;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            document.getElementById('timer-bar').classList.add('hidden');
        }

        function addTime(s) {
            timeLeft += s;
            updateTimerDisplay();
        }

        function toggleRules() {
            const modal = document.getElementById('rules-modal');
            modal.classList.toggle('hidden');
            modal.classList.toggle('flex');
        }

        window.onload = init;
    </script>
</body>
</html>